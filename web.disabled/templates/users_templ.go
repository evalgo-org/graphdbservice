// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"evalgo.org/graphservice/auth"
	"fmt"
)

func Users(user *auth.User) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"card\"><div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\"><h2 style=\"margin: 0;\">User Management</h2><button onclick=\"showCreateUserModal()\" type=\"button\">Create New User</button></div><div id=\"users-list\" hx-get=\"/admin/users/list\" hx-trigger=\"load\" hx-swap=\"innerHTML\"><p>Loading users...</p></div></div><!-- Create User Modal --> <div id=\"create-user-modal\" style=\"display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;\"><div style=\"background: white; padding: 2rem; border-radius: 0.5rem; max-width: 500px; width: 90%;\"><h3 style=\"margin-top: 0;\">Create New User</h3><form id=\"create-user-form\" onsubmit=\"createUser(event)\"><div class=\"form-group\"><label for=\"new-username\">Username</label> <input type=\"text\" id=\"new-username\" name=\"username\" required minlength=\"3\" maxlength=\"50\"></div><div class=\"form-group\"><label for=\"new-password\">Password</label><div style=\"position: relative;\"><input type=\"password\" id=\"new-password\" name=\"password\" required minlength=\"8\" style=\"padding-right: 3rem;\"> <button type=\"button\" onclick=\"togglePasswordVisibility('new-password', 'new-password-toggle')\" style=\"position: absolute; right: 0.5rem; top: 50%; transform: translateY(-50%); background: none; border: none; padding: 0.25rem 0.5rem; cursor: pointer; color: var(--text-secondary); font-size: 0.875rem;\"><span id=\"new-password-toggle\">üëÅÔ∏è</span></button></div><small style=\"color: var(--gray-700);\">Min 8 chars, must include uppercase, lowercase, number, and special character</small></div><div class=\"form-group\"><label for=\"new-email\">Email (optional)</label> <input type=\"email\" id=\"new-email\" name=\"email\"></div><div class=\"form-group\"><label for=\"new-role\">Role</label> <select id=\"new-role\" name=\"role\" required style=\"width: 100%; padding: 0.75rem; border: 1px solid var(--gray-300); border-radius: 0.375rem;\"><option value=\"user\">User</option> <option value=\"admin\">Admin</option></select></div><div class=\"form-group\"><label style=\"display: flex; align-items: center; gap: 0.5rem;\"><input type=\"checkbox\" id=\"new-must-change\" name=\"must_change_password\"> <span>Must change password on first login</span></label></div><div style=\"display: flex; gap: 1rem; margin-top: 1.5rem;\"><button type=\"submit\" style=\"flex: 1;\">Create User</button> <button type=\"button\" onclick=\"hideCreateUserModal()\" style=\"flex: 1; background: var(--gray-300); color: var(--gray-800);\">Cancel</button></div><div id=\"create-user-error\" style=\"margin-top: 1rem; color: var(--error); display: none;\"></div></form></div></div><!-- Edit User Modal --> <div id=\"edit-user-modal\" style=\"display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;\"><div style=\"background: white; padding: 2rem; border-radius: 0.5rem; max-width: 500px; width: 90%;\"><h3 style=\"margin-top: 0;\">Edit User</h3><form id=\"edit-user-form\" onsubmit=\"updateUser(event)\"><input type=\"hidden\" id=\"edit-username\" name=\"username\"><div class=\"form-group\"><label for=\"edit-email\">Email</label> <input type=\"email\" id=\"edit-email\" name=\"email\"></div><div class=\"form-group\"><label for=\"edit-password\">New Password (leave blank to keep current)</label><div style=\"position: relative;\"><input type=\"password\" id=\"edit-password\" name=\"password\" minlength=\"8\" style=\"padding-right: 3rem;\"> <button type=\"button\" onclick=\"togglePasswordVisibility('edit-password', 'edit-password-toggle')\" style=\"position: absolute; right: 0.5rem; top: 50%; transform: translateY(-50%); background: none; border: none; padding: 0.25rem 0.5rem; cursor: pointer; color: var(--text-secondary); font-size: 0.875rem;\"><span id=\"edit-password-toggle\">üëÅÔ∏è</span></button></div><small style=\"color: var(--gray-700);\">Min 8 chars, must include uppercase, lowercase, number, and special character</small></div><div class=\"form-group\"><label for=\"edit-role\">Role</label> <select id=\"edit-role\" name=\"role\" required style=\"width: 100%; padding: 0.75rem; border: 1px solid var(--gray-300); border-radius: 0.375rem;\"><option value=\"user\">User</option> <option value=\"admin\">Admin</option></select></div><div class=\"form-group\"><label style=\"display: flex; align-items: center; gap: 0.5rem;\"><input type=\"checkbox\" id=\"edit-locked\" name=\"locked\"> <span>Account Locked</span></label></div><div class=\"form-group\"><label style=\"display: flex; align-items: center; gap: 0.5rem;\"><input type=\"checkbox\" id=\"edit-must-change\" name=\"must_change_password\"> <span>Must change password</span></label></div><div class=\"form-group\"><label style=\"display: flex; align-items: center; gap: 0.5rem;\"><input type=\"checkbox\" id=\"edit-reset-failed\" name=\"reset_failed_logins\"> <span>Reset failed login count</span></label></div><div style=\"display: flex; gap: 1rem; margin-top: 1.5rem;\"><button type=\"submit\" style=\"flex: 1;\">Update User</button> <button type=\"button\" onclick=\"hideEditUserModal()\" style=\"flex: 1; background: var(--gray-300); color: var(--gray-800);\">Cancel</button></div><div id=\"edit-user-error\" style=\"margin-top: 1rem; color: var(--error); display: none;\"></div></form></div></div><style>\n\t\t\t.form-group {\n\t\t\t\tmargin-bottom: 1rem;\n\t\t\t}\n\t\t\t.form-group label {\n\t\t\t\tdisplay: block;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\tcolor: var(--text-primary);\n\t\t\t}\n\t\t\t.form-group input[type=\"text\"],\n\t\t\t.form-group input[type=\"email\"],\n\t\t\t.form-group input[type=\"password\"] {\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding: 0.75rem;\n\t\t\t\tborder: 1px solid var(--gray-300);\n\t\t\t\tborder-radius: 0.375rem;\n\t\t\t\tfont-size: 1rem;\n\t\t\t}\n\t\t\t.form-group input:focus {\n\t\t\t\toutline: none;\n\t\t\t\tborder-color: var(--primary);\n\t\t\t\tbox-shadow: 0 0 0 3px rgba(240, 90, 40, 0.1);\n\t\t\t}\n\t\t\t.user-table {\n\t\t\t\twidth: 100%;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\tmargin-top: 1rem;\n\t\t\t}\n\t\t\t.user-table th {\n\t\t\t\ttext-align: left;\n\t\t\t\tpadding: 0.75rem;\n\t\t\t\tbackground: var(--gray-100);\n\t\t\t\tborder-bottom: 2px solid var(--gray-300);\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: var(--text-primary);\n\t\t\t}\n\t\t\t.user-table td {\n\t\t\t\tpadding: 0.75rem;\n\t\t\t\tborder-bottom: 1px solid var(--gray-200);\n\t\t\t}\n\t\t\t.user-table tr:hover {\n\t\t\t\tbackground: var(--gray-100);\n\t\t\t}\n\t\t\t.badge {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding: 0.25rem 0.75rem;\n\t\t\t\tborder-radius: 9999px;\n\t\t\t\tfont-size: 0.75rem;\n\t\t\t\tfont-weight: 600;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t}\n\t\t\t.badge-admin {\n\t\t\t\tbackground: var(--primary);\n\t\t\t\tcolor: white;\n\t\t\t}\n\t\t\t.badge-user {\n\t\t\t\tbackground: var(--gray-200);\n\t\t\t\tcolor: var(--gray-700);\n\t\t\t}\n\t\t\t.badge-locked {\n\t\t\t\tbackground: var(--error);\n\t\t\t\tcolor: white;\n\t\t\t}\n\t\t\t.action-button {\n\t\t\t\tpadding: 0.375rem 0.75rem;\n\t\t\t\tfont-size: 0.875rem;\n\t\t\t\tbackground: var(--primary);\n\t\t\t\tcolor: white;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 0.25rem;\n\t\t\t\tcursor: pointer;\n\t\t\t\tmargin-right: 0.5rem;\n\t\t\t}\n\t\t\t.action-button:hover {\n\t\t\t\tbackground: var(--primary-dark);\n\t\t\t}\n\t\t\t.action-button.delete {\n\t\t\t\tbackground: var(--error);\n\t\t\t}\n\t\t\t.action-button.delete:hover {\n\t\t\t\tbackground: #dc2626;\n\t\t\t}\n\t\t</style> <!-- Load modal system --> <script src=\"/static/modal.js\"></script> <script>\n\t\t\tfunction togglePasswordVisibility(inputId, iconId) {\n\t\t\t\tconst input = document.getElementById(inputId);\n\t\t\t\tconst icon = document.getElementById(iconId);\n\n\t\t\t\tif (input.type === 'password') {\n\t\t\t\t\tinput.type = 'text';\n\t\t\t\t\ticon.textContent = 'üôà';\n\t\t\t\t} else {\n\t\t\t\t\tinput.type = 'password';\n\t\t\t\t\ticon.textContent = 'üëÅÔ∏è';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction showCreateUserModal() {\n\t\t\t\tdocument.getElementById('create-user-modal').style.display = 'flex';\n\t\t\t}\n\n\t\t\tfunction hideCreateUserModal() {\n\t\t\t\tdocument.getElementById('create-user-modal').style.display = 'none';\n\t\t\t\tdocument.getElementById('create-user-form').reset();\n\t\t\t\tdocument.getElementById('create-user-error').style.display = 'none';\n\t\t\t}\n\n\t\t\tfunction showEditUserModal() {\n\t\t\t\tdocument.getElementById('edit-user-modal').style.display = 'flex';\n\t\t\t}\n\n\t\t\tfunction hideEditUserModal() {\n\t\t\t\tdocument.getElementById('edit-user-modal').style.display = 'none';\n\t\t\t\tdocument.getElementById('edit-user-form').reset();\n\t\t\t\tdocument.getElementById('edit-user-error').style.display = 'none';\n\t\t\t}\n\n\t\t\tasync function createUser(event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst form = event.target;\n\t\t\t\tconst formData = new FormData(form);\n\n\t\t\t\tconst data = {\n\t\t\t\t\tusername: formData.get('username'),\n\t\t\t\t\tpassword: formData.get('password'),\n\t\t\t\t\temail: formData.get('email'),\n\t\t\t\t\trole: formData.get('role'),\n\t\t\t\t\tmust_change_password: formData.get('must_change_password') === 'on'\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/admin/users', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\t\tbody: JSON.stringify(data)\n\t\t\t\t\t});\n\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\thideCreateUserModal();\n\t\t\t\t\t\thtmx.ajax('GET', '/admin/users/list', {target: '#users-list', swap: 'innerHTML'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst error = await response.json();\n\t\t\t\t\t\tdocument.getElementById('create-user-error').textContent = error.error;\n\t\t\t\t\t\tdocument.getElementById('create-user-error').style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tdocument.getElementById('create-user-error').textContent = 'Failed to create user';\n\t\t\t\t\tdocument.getElementById('create-user-error').style.display = 'block';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tasync function editUser(username) {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(`/admin/users/${username}`);\n\t\t\t\t\tconst user = await response.json();\n\n\t\t\t\t\tdocument.getElementById('edit-username').value = user.username;\n\t\t\t\t\tdocument.getElementById('edit-email').value = user.email || '';\n\t\t\t\t\tdocument.getElementById('edit-role').value = user.role;\n\t\t\t\t\tdocument.getElementById('edit-locked').checked = user.locked;\n\t\t\t\t\tdocument.getElementById('edit-must-change').checked = user.must_change_password;\n\t\t\t\t\tdocument.getElementById('edit-password').value = '';\n\n\t\t\t\t\tshowEditUserModal();\n\t\t\t\t} catch (err) {\n\t\t\t\t\tshowModal('Error', 'Failed to load user data', 'error');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tasync function updateUser(event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst form = event.target;\n\t\t\t\tconst formData = new FormData(form);\n\t\t\t\tconst username = formData.get('username');\n\n\t\t\t\tconst data = {\n\t\t\t\t\temail: formData.get('email') || null,\n\t\t\t\t\trole: formData.get('role'),\n\t\t\t\t\tlocked: formData.get('locked') === 'on',\n\t\t\t\t\tmust_change_password: formData.get('must_change_password') === 'on',\n\t\t\t\t\treset_failed_logins: formData.get('reset_failed_logins') === 'on'\n\t\t\t\t};\n\n\t\t\t\tif (formData.get('password')) {\n\t\t\t\t\tdata.password = formData.get('password');\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(`/admin/users/${username}`, {\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\t\tbody: JSON.stringify(data)\n\t\t\t\t\t});\n\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\thideEditUserModal();\n\t\t\t\t\t\thtmx.ajax('GET', '/admin/users/list', {target: '#users-list', swap: 'innerHTML'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst error = await response.json();\n\t\t\t\t\t\tdocument.getElementById('edit-user-error').textContent = error.error;\n\t\t\t\t\t\tdocument.getElementById('edit-user-error').style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tdocument.getElementById('edit-user-error').textContent = 'Failed to update user';\n\t\t\t\t\tdocument.getElementById('edit-user-error').style.display = 'block';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tasync function deleteUser(username) {\n\t\t\t\tshowConfirmModal(\n\t\t\t\t\t'Delete User',\n\t\t\t\t\t`Are you sure you want to delete user \"${username}\"?`,\n\t\t\t\t\tasync function() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst response = await fetch(`/admin/users/${username}`, {\n\t\t\t\t\t\t\t\tmethod: 'DELETE'\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\t\t\thtmx.ajax('GET', '/admin/users/list', {target: '#users-list', swap: 'innerHTML'});\n\t\t\t\t\t\t\t\tshowModal('Success', 'User deleted successfully', 'success');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst error = await response.json();\n\t\t\t\t\t\t\t\tshowModal('Error', error.error, 'error');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tshowModal('Error', 'Failed to delete user', 'error');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = Layout("User Management", user).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func UsersList(users []map[string]interface{}) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var3 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var3 == nil {
			templ_7745c5c3_Var3 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		if len(users) == 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<p>No users found.</p>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<table class=\"user-table\"><thead><tr><th>Username</th><th>Email</th><th>Role</th><th>Status</th><th>Failed Logins</th><th>Last Login</th><th>Actions</th></tr></thead> <tbody>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, userMap := range users {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<tr><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var4 string
				templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(userMap["username"].(string))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/users.templ`, Line: 381, Col: 40}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if email, ok := userMap["email"].(string); ok && email != "" {
					var templ_7745c5c3_Var5 string
					templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(email)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/users.templ`, Line: 384, Col: 15}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<span style=\"color: var(--gray-700);\">-</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "</td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if userMap["role"].(string) == "admin" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<span class=\"badge badge-admin\">Admin</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<span class=\"badge badge-user\">User</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "</td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if locked, ok := userMap["locked"].(bool); ok && locked {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "<span class=\"badge badge-locked\">Locked</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "<span style=\"color: var(--success);\">Active</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "</td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var6 string
				templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprint(userMap["failed_logins"]))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/users.templ`, Line: 403, Col: 48}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "</td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if lastLogin, ok := userMap["last_login_at"].(string); ok && lastLogin != "" {
					var templ_7745c5c3_Var7 string
					templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(lastLogin)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/users.templ`, Line: 406, Col: 19}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "<span style=\"color: var(--gray-700);\">Never</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "</td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templ.RenderScriptItems(ctx, templ_7745c5c3_Buffer, templ.ComponentScript{Call: "editUser('" + userMap["username"].(string) + "')"})
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "<button class=\"action-button\" onclick=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var8 templ.ComponentScript = templ.ComponentScript{Call: "editUser('" + userMap["username"].(string) + "')"}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var8.Call)
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "\">Edit</button> ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templ.RenderScriptItems(ctx, templ_7745c5c3_Buffer, templ.ComponentScript{Call: "deleteUser('" + userMap["username"].(string) + "')"})
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "<button class=\"action-button delete\" onclick=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 templ.ComponentScript = templ.ComponentScript{Call: "deleteUser('" + userMap["username"].(string) + "')"}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var9.Call)
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "\">Delete</button></td></tr>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "</tbody></table>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
